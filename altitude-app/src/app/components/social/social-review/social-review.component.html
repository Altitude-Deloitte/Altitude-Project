<app-header></app-header>

<div
  class="max-w-[90%] my-8 mx-auto p-8 border-2 border-[#B66DFF] rounded-2xl flex flex-col justify-center items-center">
  <div class="flex w-full flex-wrap justify-between items-center">
    <div class="flex flex-col justify-center gap-2">
      <div class="flex items-center gap-2">
        <a routerLink="/generate-request" class="text-2xl cursor-pointer">
          <i class="pi pi-angle-left mr-1"></i>Social Media Post
          <i class="pi pi-pencil ml-1"></i>
        </a>
      </div>
      <div class="flex items-center gap-2">
        <a class="text-decoration-none p-3 rounded-full border-1 border-[#363636] flex gap-2">
          <img src="assets/images/InstagramLogo.svg" />Social Media Campaign
        </a>
        <a class="text-decoration-none p-3 text-[#9B9B9B] rounded-full border-1 border-[#363636]">
          {{ currentsDate }}
        </a>
      </div>
    </div>
  </div>

  <div class="flex flex-wrap mt-5 gap-4 w-full">
    <div class="md:flex-1">
      <div>
        <!-- Accordion panels -->
        <p-accordion value="0">
          <p-accordion-panel value="0">
            <p-accordion-header class="border-1 p-4 bg-[#121212] border-b-0 rounded-t-xl border-[#363636]">
              Brand Guidelines & Assets
            </p-accordion-header>
            <p-accordion-content class="p-4 border-1 border-[#363636] bg-[#121212]">
              <h4 class="text-[#9B9B9B] mb-2">Edit Brand Colors</h4>
              <div class="flex justify-center gap-4 items-center">
                <div class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                  <a class="p-4 mb-1 rounded-full bg-[#E41E28]"></a>
                  <p>Primary</p>
                </div>
                <div class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                  <a class="p-4 mb-1 rounded-full bg-[#CBEBFC]"></a>
                  <p>Secondary</p>
                </div>
                <div class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                  <a class="p-4 mb-1 rounded-full bg-[#3F3F3F]"></a>
                  <p>Tertiary</p>
                </div>
                <div class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                  <a class="p-4 mb-1 rounded-full bg-[#B5876D]"></a>
                  <p>Accent</p>
                </div>
              </div>
            </p-accordion-content>
          </p-accordion-panel>
        </p-accordion>

        <p-accordion value="1">
          <p-accordion-panel value="1">
            <p-accordion-header class="border-1 border-t-0 p-4 border-[#363636]">
              Task Details
            </p-accordion-header>
            <p-accordion-content class="p-4 border-1 border-[#363636] rounded-b-xl bg-[#121212]">
              <div class="flex justify-between items-start">
                <div class="flex flex-col gap-3">
                  <h4 class="text-[#9b9b9b]">Client Name</h4>
                  <p>{{ brand }}</p>
                  <h4 class="text-[#9b9b9b]">Purpose</h4>
                  <p>{{ formData?.purpose }}</p>
                  <h4 class="text-[#9b9b9b]">Due Date</h4>
                  <p>{{ formData?.dueDate }}</p>
                  <h4 class="text-[#9b9b9b]">Word Limit</h4>
                  <p>{{ formData?.wordLimit || "" }}</p>
                  <h4 class="text-[#9b9b9b]">Additional Details</h4>
                  <p>{{ formData?.Additional || "" }}</p>
                  <h4 class="text-[#9b9b9b]">Image Description</h4>
                  <p>{{ formData?.image || "" }}</p>
                </div>
                <div class="flex flex-col gap-3">
                  <h4 class="text-[#9b9b9b]">Topic</h4>
                  <p>{{ formData?.topic || "" }}</p>
                  <h4 class="text-[#9b9b9b]">Platform Campaign</h4>
                  <p>{{ formData?.campaign || "" }}</p>
                </div>
              </div>
            </p-accordion-content>
          </p-accordion-panel>
        </p-accordion>
      </div>
    </div>

    <div class="md:flex-2">
      <div class="flex flex-col">
        <p-tabs [(value)]="activeTabIndexa">
          <div class="rounded-t-xl bg-[#363636]">
            <div class="flex justify-between items-center p-4 flex-wrap">
              <div class="flex items-center gap-2">
                <button class="bg-[#8D4BFF] rounded-full py-4 px-5" disabled>
                  <i class="pi pi-sparkles"></i>
                </button>
                <h2 class="text-2xl font-bold">Generated Results</h2>
              </div>

              <p-tablist class="p-3 border-[#4D4D4D] rounded-full items-center bg-[#363636]">
                <div class="flex gap-4 items-center justify-center bg-[#363636]">
                  <p-tab *ngFor="let campaign of activeCampaigns; let i = index" [value]="i"
                    class="gap-2 p-4 bg-[#363636]">{{ campaign }}</p-tab>
                </div>
              </p-tablist>

              <div class="flex items-center gap-2">
                <img src="assets/images/ListMagnifyingGlass.svg" alt="" />
                <p class="font-semibold text-lg" style="cursor: pointer" (click)="onCreateProject()">
                  Check Plagiarism
                </p>
              </div>
            </div>
          </div>

          <div class="border-t-1 border-[#686868] bg-[#363636] p-5 rounded-b-xl">
            <div class="flex my-4 flex-col justify-center items-center">
              <div class="flex justify-center items-center">
                <p-tabpanels class="bg-[#F6F5EF] rounded-2xl border-4 shadow-xl max-w-3xl w-full overflow-hidden p-16">
                  <p-tabpanel *ngFor="let campaign of activeCampaigns; let i = index" [value]="i">
                    <ng-container [ngSwitch]="campaign">
                      <!-- Facebook Panel -->
                      <div *ngSwitchCase="'Facebook'">
                        <ng-container *ngIf="!contentDisabled; else loadingTemplate">
                          <h3 class="post-caption text-black dark:text-black text-white">
                            {{ editorContentSocialMedia }}
                          </h3>
                          <p *ngIf="hyperUrl" class="post-caption text-black">
                            For more details, visit our website:
                            <a [href]="hyperUrl" target="_blank" rel="noopener noreferrer" style="color: #0866ff">
                              {{ hyperUrl }}
                            </a>
                          </p>
                          <img *ngIf="imageFBUrlSocialmedia" [src]="imageFBUrlSocialmedia" alt="Facebook Post"
                            class="post-image mt-3" />
                        </ng-container>
                      </div>

                      <!-- Instagram Panel -->
                      <div *ngSwitchCase="'Instagram'">
                        <ng-container *ngIf="!contentDisabled; else loadingTemplate">
                          <div class="instagram-post">
                            <img *ngIf="imageInstaUrlSocialmedia" [src]="imageInstaUrlSocialmedia" alt="Instagram Post"
                              class="post-image" />
                            <p class="post-caption text-black mt-3">
                              {{ editorContentSocialMedia1 }}
                            </p>
                            <p *ngIf="hyperUrl" class="post-caption text-black">
                              For more details, visit our website:
                              <a [href]="hyperUrl" target="_blank" rel="noopener noreferrer" style="color: #0866ff">
                                {{ hyperUrl }}
                              </a>
                            </p>
                          </div>
                        </ng-container>
                      </div>

                      <!-- X Panel -->
                      <div *ngSwitchCase="'X'">
                        <ng-container *ngIf="!contentDisabled; else loadingTemplate">
                          <div class="instagram-post">
                            <img *ngIf="imageXUrlSocialmedia" [src]="imageXUrlSocialmedia" alt="Instagram Post"
                              class="post-image" />
                            <p class="post-caption text-black mt-3">
                              {{ contentXSocialMedia }}
                            </p>
                            <p *ngIf="hyperUrl" class="post-caption text-black">
                              For more details, visit our website:
                              <a [href]="hyperUrl" target="_blank" rel="noopener noreferrer" style="color: #0866ff">
                                {{ hyperUrl }}
                              </a>
                            </p>
                          </div>
                        </ng-container>
                      </div>

                      <!-- LinkedIn Panel -->
                      <div *ngSwitchCase="'LinkedIn'">
                        <ng-container *ngIf="!contentDisabled; else loadingTemplate">
                          <div class="instagram-post">
                            <img *ngIf="imageLinkedInUrlSocialmedia" [src]="imageLinkedInUrlSocialmedia"
                              alt="Instagram Post" class="post-image" />
                            <p class="post-caption text-black mt-3">
                              {{ contentLinkdInSocialMedia }}
                            </p>
                            <p *ngIf="hyperUrl" class="post-caption text-black">
                              For more details, visit our website:
                              <a [href]="hyperUrl" target="_blank" rel="noopener noreferrer" style="color: #0866ff">
                                {{ hyperUrl }}
                              </a>
                            </p>
                          </div>
                        </ng-container>
                      </div>

                      <!-- Default -->
                      <div *ngSwitchDefault>
                        <p>No content available for this campaign.</p>
                      </div>
                    </ng-container>

                    <ng-template #loadingTemplate>
                      <p-progress-spinner strokeWidth="2" animationDuration=".5s" styleClass="custom-spinner"
                        [style]="{ width: '50px', height: '50px' }"></p-progress-spinner>
                    </ng-template>
                  </p-tabpanel>
                </p-tabpanels>
              </div>
            </div>

            <div class="flex items-center gap-2 mt-4">
              <button class="border-1 border-white rounded-full p-3">
                Use an informal tone for communication
              </button>
              <button class="border-1 border-white rounded-full p-3">
                Make Another Version
              </button>
            </div>
            <div class="w-full mt-6 mb-6">
              <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                style="box-shadow: 0 2px 16px 0 #00000040">
                <!-- Attachment Icon Button -->
                <button
                  class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#1A1A1A] hover:bg-[#29252f] transition">
                  <i class="pi pi-paperclip text-2xl text-gray-400"></i>
                </button>
                <!-- Input -->
                <input pInputText
                  class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                  placeholder="Ask to modify" style="height: 48px" />
                <!-- Mic Icon Button -->
                <button
                  class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#1A1A1A] hover:bg-[#29252f] transition ml-2">
                  <i class="pi pi-microphone text-2xl text-gray-400"></i>
                </button>
                <!-- Send Button -->
                <button
                  class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition ml-2">
                  <i class="pi pi-send text-2xl text-white"></i>
                </button>
              </div>
            </div>
          </div>
        </p-tabs>
      </div>
    </div>
  </div>
</div>
<p-button class="bg-[#8D4BFF] mr-[5%] mb-4 p-4 pt-2 rounded-full float-right" label="Send For Approval"
  (onClick)="navigateToForm()"></p-button>