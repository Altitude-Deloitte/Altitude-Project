<app-header></app-header>

<!-- Toast for notifications -->
<p-toast position="top-right" [breakpoints]="{'920px': {width: '100%', right: '0', left: '0'}}"></p-toast>

<!-- @if (loading) {
<app-loader></app-loader>
} @else { -->
<div class="fade-in">
    <p-tabs value="0">


        <div
            class="max-w-[90%] my-8 mx-auto p-8 border-2 border-[#B66DFF] rounded-2xl flex flex-col justify-center items-center">
            <div class="flex w-full flex-wrap justify-between items-center mb-5">
                <div class="flex flex-col justify-center gap-2">
                    <div class="flex items-center gap-2">
                        <a routerLink="/generate-request" class="text-2xl cursor-pointer"><i
                                class="pi pi-angle-left mr-1"></i>Combined<i class="pi pi-pencil ml-1"></i></a>
                    </div>
                    <div class="flex items-center gap-2">
                        <a class="text-decoration-none p-3 rounded-full border-1 border-[#363636] flex gap-2"><img
                                src="assets/images/cube.svg">Combined</a>
                        <a class="text-decoration-none p-3 text-[#9B9B9B] rounded-full border-1 border-[#363636]">April
                            16,
                            2025</a>
                    </div>
                </div>
                <p-tablist class="p-3 border-1 border-[#4D4D4D] rounded-full items-center">
                    <div class="flex gap-4 items-center justify-center bg-[#09040e]">
                        <p-tab value="0" class="text-white"><i class="pi pi-envelope text-white"></i>Email</p-tab>
                        <p-tab value="1" class="text-white"><img src="assets/images/InstagramLogo.svg" alt="">Social
                            Media</p-tab>
                        <p-tab value="2" class="text-white"><img src="assets/images/Browser.svg" alt="">Website
                            Blog</p-tab>
                        <p-tab value="3" class="text-white"><i class="pi pi-video text-white"></i>AI Video</p-tab>
                    </div>

                </p-tablist>
                <div class="flex items-center gap-4">

                    <button class="border border-2 border-[#BB93FF] px-5 py-3 rounded-full">
                        View All Comments
                    </button>

                    <!-- <p-dialog [(visible)]="showComments" [modal]="true" [closable]="true" [dismissableMask]="true"
                    [style]="{width: '500px', borderRadius: '12px', overflow: 'hidden'}"
                    contentStyleClass="p-4 bg-[#181B22]" header="Comments ({{commentsList.length}})" [showHeader]="true"
                    [closeOnEscape]="true">
                    <div class="p-0 bg-[#181B22]">
                        <div *ngFor="let comment of commentsList"
                            class="bg-[#23262E] rounded-lg p-3 mb-3 flex gap-3 items-start">
                            <img [src]="comment.avatar" alt="avatar" class="w-8 h-8 rounded-full object-cover mt-1" />
                            <div class="flex-1">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="font-semibold text-white text-sm">{{ comment.name }}</span>
                                    <span class="text-xs text-gray-400">{{ comment.time }}</span>
                                </div>
                                <div class="text-xs text-gray-300">{{ comment.text }}</div>
                            </div>
                        </div>x
                    </div>
                </p-dialog> -> -->
                </div>
            </div>

            <p-tabpanels class="bg-[#09040e]">
                <p-tabpanel value="0">
                    <div class="flex flex-wrap mt-5 gap-4 w-full">
                        <div class="md:flex-1">
                            <div class="">

                                <p-accordion value="0" class="bg-[#121212]">
                                    <p-accordion-panel value="0">
                                        <p-accordion-header
                                            class="border-1 p-4 bg-[#121212] border-b-0 rounded-t-xl border-[#363636]">
                                            Brand Guidelines & Assets
                                        </p-accordion-header>
                                        <p-accordion-content class="p-4 bg-[#121212] border-1 border-[#363636]">
                                            <h4 class="text-[#9B9B9B] mb-2">Edit Brand Colors</h4>
                                            <div class="flex justify-center gap-4 items-center">
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#E41E28]"></a>
                                                    <p>Primary</p>
                                                </div>
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#CBEBFC]"></a>
                                                    <p>Secondary</p>
                                                </div>
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#3F3F3F]"></a>
                                                    <p>Tertiary</p>
                                                </div>
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#B5876D]"></a>
                                                    <p>Accent</p>
                                                </div>
                                            </div>

                                        </p-accordion-content>
                                    </p-accordion-panel>
                                </p-accordion>

                                <p-accordion value="1">
                                    <p-accordion-panel value="1">
                                        <p-accordion-header
                                            class="bg-[#121212] border-s-1 border-e-1 rounded-none p-4 border-[#363636]">
                                            Task Details
                                        </p-accordion-header>

                                        <p-accordion-content
                                            class="p-4 bg-[#121212] border-1 border-[#363636] rounded-b-xl">
                                            <div class="flex justify-between items-start">


                                                <div class="grid grid-cols-2 gap-y-4 gap-x-6 text-base text-white">
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Client Name</span>
                                                        <span class="font-semibold">{{this.formData?.brand || this.brand
                                                            ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Purpose</span>
                                                        <span class="font-semibold">{{this.formData?.purpose ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Topic</span>
                                                        <span class="font-semibold">{{this.formData?.topic ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Due Date</span>
                                                        <span class="font-semibold">{{this.formData?.dueDate ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Tone</span>
                                                        <span class="font-semibold">{{this.formData?.Type ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Word Limit</span>
                                                        <span class="font-semibold">{{this.formData?.wordLimit ||
                                                            this.formData?.word_limit || '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Target Audience</span>
                                                        <span class="font-semibold">{{this.formData?.readers ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Image Option</span>
                                                        <span class="font-semibold">{{this.formData?.imageOpt ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Image Description</span>
                                                        <span class="font-semibold">{{this.formData?.imgDesc ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Additional Details</span>
                                                        <span class="font-semibold">{{this.formData?.additional ||
                                                            '-'}}</span>
                                                    </div>
                                                </div>



                                            </div>

                                        </p-accordion-content>
                                    </p-accordion-panel>
                                </p-accordion>
                            </div>
                        </div>
                        <div class="md:flex-2">
                            <div class="flex flex-col">
                                <div class="rounded-t-xl bg-[#363636]">

                                    <div class="flex justify-between items-center p-4 flex-wrap">
                                        <div class="flex items-center gap-2">
                                            <button class="bg-[#8D4BFF] rounded-full py-4 px-5" disabled><i
                                                    class="pi pi-sparkles"></i></button>
                                            <h2 class="text-2xl font-bold">Generated Results</h2>
                                        </div>
                                        <!-- @if (selection.code == 'social') {
                                            
                                                                         <p-tabview [(activeIndex)]="activeTabIndex">
                                                                            <p-tabpanel header="Facebook"></p-tabpanel>
                                                                            <p-tabpanel header="Instagram"></p-tabpanel>
                                                                        </p-tabview> 
                                            
                                                                        } -->

                                        <div class="flex items-center gap-2">
                                            <img src="assets/images/ListMagnifyingGlass.svg" alt="">
                                            <p class="font-semibold text-lg" style="cursor: pointer;"
                                                (click)="onCreateProject()">Check Plagiarism</p>
                                        </div>
                                    </div>

                                </div>
                                <div class="border-t-1 border-[#686868] bg-[#363636] p-5 rounded-b-xl">
                                    <div class="flex my-4 flex-col justify-center items-center">

                                        <!-- Content Display Area with Spinner Overlay -->
                                        <div class="relative w-full">
                                            <!-- Loading Spinner Overlay -->
                                            <div *ngIf="isRegeneratingEmailContent || isRegeneratingImage"
                                                class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-2xl z-10">
                                                <p-progressSpinner styleClass="w-16 h-16" strokeWidth="4"
                                                    fill="transparent" animationDuration=".8s"></p-progressSpinner>
                                            </div>

                                            <div class="w-full mb-8">
                                                <h3 class="text"> Please Choose a subject</h3>
                                                <form>
                                                    <p-select name="subject" [options]="subjctsEmail"
                                                        styleClass="w-full p-4 custom-select-panel"
                                                        placeholder="Please Select" [(ngModel)]="selectedSubject"
                                                        (onChange)="onSubjectChange($event.value)"></p-select>
                                                </form>
                                            </div>
                                            <table border="0" cellpadding="0" cellspacing="0" width="100%"
                                                style="max-width: 640px; margin: 0 auto; border-collapse: collapse;">
                                                <tbody>

                                                    <tr>

                                                        <td class="rounded-t-xl"
                                                            style="background-color:#ffffff; padding: 20px;display: flex; justify-content: center;align-items: center;">
                                                            <img [src]="this.brandlogoTop" alt="brandlogo">
                                                    </tr>

                                                    <tr>
                                                        <td
                                                            style="background:black; padding: 30px 20px; text-align: center; color: #ffffff;">
                                                            <h1
                                                                style="margin: 0; font-size: 28px; font-family: Arial, sans-serif;line-height: 1.2;">
                                                                <span class="email-content"
                                                                    style="font-weight: bold;">Bringing Back the Nike
                                                                    T90: Heritage Meets Everyday Style by
                                                                    Altitude</span>
                                                            </h1>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td [style.height]="imageContainerHeight"
                                                            [style.width]="imageContainerWidth" align="center"
                                                            class="image-width"
                                                            style="font-size: 1px;line-height: 1px;">
                                                            <div class="mktoImg" id="Banner2ef" mktolockimgsize="true">
                                                                <img [style.height]="imageContainerHeight"
                                                                    [style.width]="imageContainerWidth" border="0"
                                                                    alt="Banner Image" src="assets/images/nike.jpg" />
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style=" text-align: center; background-color: #ffffff;">
                                                            <ng-container *ngIf="imageOfferUrl && !imageUrl; ">
                                                                <img [src]="this.imageOfferUrl" alt="banner"
                                                                    style="max-width: 100%; height: auto;" />
                                                            </ng-container>

                                                        </td>
                                                    </tr>




                                                    <tr>
                                                        <td style="background-color: #ffffff; padding: 30px 20px;">
                                                            <div
                                                                style="font-family: 'Open Sans', sans-serif; color: #333333; line-height: 1.6;">

                                                                Once the weapon of choice for legends like Wayne Rooney
                                                                and Fernando Torres, the Nike Total 90 defined an era of
                                                                football boots built for power, precision, and
                                                                unmistakable swagger. Today, sneaker culture is
                                                                rediscovering that same
                                                                magic ‚Äî off the pitch.

                                                                Reimagined as everyday sneakers, the T90s bring back
                                                                early-2000s nostalgia with their bold shooting rings,
                                                                asymmetrical
                                                                laces, and aggressive silhouette. They‚Äôre more than just
                                                                a retro revival; they‚Äôre a bridge between performance
                                                                heritage
                                                                and streetwear attitude. The signature design ‚Äî once
                                                                built to bend free kicks into the top corner ‚Äî now turns
                                                                heads on
                                                                city streets, pairing effortlessly with denim, cargos,
                                                                or even tailored fits.

                                                                In a world obsessed with minimalism, the T90‚Äôs
                                                                unapologetic character stands out. It‚Äôs loud, confident,
                                                                and rooted in a
                                                                time when football boots were icons, not just equipment.
                                                                Bringing them back as lifestyle sneakers isn‚Äôt just a
                                                                nod to
                                                                the past ‚Äî it‚Äôs a celebration of identity, creativity,
                                                                and the culture that made football style global.

                                                                Because some things aren‚Äôt meant to stay in storage. The
                                                                T90 was built to perform ‚Äî now it‚Äôs ready to make a
                                                                comeback,
                                                                one street at a time.
                                                            </div>

                                                        </td>
                                                    </tr>


                                                    <tr>
                                                        <td
                                                            style="background-color: #f8f8f8; padding: 30px 20px; text-align: center;">

                                                            <a [href]="this.showMore" target="_blank"
                                                                style="display: inline-block; padding: 12px 30px; background: black; color: #ffffff; text-decoration: none; font-family: Arial, sans-serif; font-weight: bold; border-radius: 4px; text-transform: uppercase; letter-spacing: 1px;">
                                                                Know More
                                                            </a>
                                                        </td>
                                                    </tr>


                                                    <tr>
                                                        <td class="rounded-b-xl"
                                                            style="background-color: #333333; padding: 30px 20px; text-align: center; color: #ffffff;">
                                                            <p
                                                                style="margin: 0 0 15px 0; font-family: Arial, sans-serif; font-size: 14px;">
                                                                www.{{formData?.brand }} | INFO{{'@'+formData?.brand}}

                                                            </p>
                                                            <p
                                                                style="margin: 0 0 15px 0; font-family: Arial, sans-serif; font-size: 12px; line-height: 1.5; color: #cccccc;">
                                                                As a valued subscriber, we greatly appreciate your time.
                                                                Thank you for
                                                                your
                                                                continued attention
                                                                to
                                                                our company news.
                                                                You may unsubscribe from our email updates at any time.
                                                            </p>
                                                            <p
                                                                style="margin: 0; font-family: Arial, sans-serif; font-size: 12px; color: #999999;">
                                                                Copyright ¬© 2025 {{formData?.brand}} All Rights
                                                                Reserved.
                                                            </p>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-2 mt-4">
                                        <button
                                            (click)="appendToEmailFeedback('Use an informal tone for communication')"
                                            class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Use
                                            an informal tone
                                            for
                                            communication</button>
                                        <button (click)="appendToEmailFeedback('Use 200 words')"
                                            class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Use
                                            200 Words</button>
                                    </div>
                                    <!-- Regenerate Email Content Section -->
                                    <div class="w-full mt-6 mb-6">
                                        <label class="regeneration-label mb-2 block">
                                            <i class="pi pi-refresh mr-2"></i>Content Regenerate
                                        </label>
                                        <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                            style="box-shadow: 0 2px 16px 0 #00000040;">
                                            <!-- Input -->
                                            <input pInputText [(ngModel)]="emailContentFeedback"
                                                [disabled]="isRegeneratingEmailContent"
                                                class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                placeholder="Type your feedback to regenerate content"
                                                style="height: 48px;" />
                                            <!-- Submit Button -->
                                            <button (click)="regenerateEmailContent()"
                                                [disabled]="isRegeneratingEmailContent"
                                                class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                <i *ngIf="!isRegeneratingEmailContent"
                                                    class="pi pi-send text-2xl text-white"></i>
                                                <p-progressSpinner *ngIf="isRegeneratingEmailContent"
                                                    styleClass="w-6 h-6" strokeWidth="4" fill="transparent"
                                                    animationDuration=".8s"></p-progressSpinner>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Regenerate Image Section -->
                                    <div class="w-full mt-6 mb-6">
                                        <label class="regeneration-label mb-2 block">
                                            <i class="pi pi-image mr-2"></i>Image Regenerate
                                        </label>
                                        <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                            style="box-shadow: 0 2px 16px 0 #00000040;">
                                            <!-- Input -->
                                            <input pInputText [(ngModel)]="imageFeedback"
                                                [disabled]="isRegeneratingImage"
                                                class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                placeholder="Type your feedback to regenerate image"
                                                style="height: 48px;" />
                                            <!-- Submit Button -->
                                            <button (click)="regenerateImage()" [disabled]="isRegeneratingImage"
                                                class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                <i *ngIf="!isRegeneratingImage"
                                                    class="pi pi-send text-2xl text-white"></i>
                                                <p-progressSpinner *ngIf="isRegeneratingImage" styleClass="w-6 h-6"
                                                    strokeWidth="4" fill="transparent"
                                                    animationDuration=".8s"></p-progressSpinner>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-tabpanel>
                <p-tabpanel value="1">
                    <div class="flex flex-wrap mt-5 gap-4 w-full">
                        <div class="md:flex-1">
                            <div class="">

                                <p-accordion value="0" class="bg-[#1A1A1A]">
                                    <p-accordion-panel value="0">
                                        <p-accordion-header
                                            class="border-1 p-4 border-b-0 rounded-t-xl border-[#363636]">
                                            Brand Guidelines & Assets
                                        </p-accordion-header>
                                        <p-accordion-content class="p-4 border-1 border-[#363636]">
                                            <h4 class="text-[#9B9B9B] mb-2">Edit Brand Colors</h4>
                                            <div class="flex justify-center gap-4 items-center">
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#E41E28]"></a>
                                                    <p>Primary</p>
                                                </div>
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#CBEBFC]"></a>
                                                    <p>Secondary</p>
                                                </div>
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#3F3F3F]"></a>
                                                    <p>Tertiary</p>
                                                </div>
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#B5876D]"></a>
                                                    <p>Accent</p>
                                                </div>
                                            </div>

                                        </p-accordion-content>
                                    </p-accordion-panel>
                                </p-accordion>

                                <p-accordion value="1" class="bg-[#1A1A1A]">
                                    <p-accordion-panel value="1">
                                        <p-accordion-header class="border-1 border-t-0 p-4 border-[#363636]">
                                            Task Details
                                        </p-accordion-header>

                                        <p-accordion-content class="p-4 border-1 border-[#363636] rounded-b-xl">
                                            <div class="flex justify-between items-start">
                                                <!-- Social Media Tab Task Details -->
                                                <div class="grid grid-cols-2 gap-y-4 gap-x-6 text-base text-white">
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Client Name</span>
                                                        <span class="font-semibold">{{this.formData?.brand ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Purpose</span>
                                                        <span class="font-semibold">{{this.formData?.purpose2 ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Topic</span>
                                                        <span class="font-semibold">{{this.formData?.topic ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Due Date</span>
                                                        <span class="font-semibold">{{this.formData?.dueDate ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Tone</span>
                                                        <span class="font-semibold">{{this.formData?.Type ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Word Limit</span>
                                                        <span class="font-semibold">{{this.formData?.wordLimit2 ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Target Audience</span>
                                                        <span class="font-semibold">{{this.formData?.readers2 ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Platform</span>
                                                        <span class="font-semibold">{{this.formData?.campaign2 ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Image Option</span>
                                                        <span class="font-semibold">{{this.formData?.imageOpt ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Image Description</span>
                                                        <span class="font-semibold">{{this.formData?.imgDesc ||
                                                            '-'}}</span>
                                                    </div>
                                                </div>
                                            </div>

                                        </p-accordion-content>
                                    </p-accordion-panel>
                                </p-accordion>
                            </div>
                        </div>
                        <div class="md:flex-2">
                            <div class="flex flex-col">
                                <p-tabs value="0">
                                    <div class="rounded-t-xl bg-[#363636]">

                                        <div class="flex justify-between items-center p-4 flex-wrap">
                                            <div class="flex items-center gap-2">
                                                <button class="bg-[#8D4BFF] rounded-full py-4 px-5" disabled><i
                                                        class="pi pi-sparkles"></i></button>
                                                <h2 class="text-2xl font-bold">Generated Results</h2>
                                            </div>


                                            <p-tablist
                                                class="p-3 border-1 border-[#4D4D4D] rounded-full items-center bg-[#363636]">
                                                <div class="flex gap-4 items-center justify-center bg-[#09040e]">
                                                    <p-tab
                                                        *ngFor="let platform of selectedSocialPlatforms; let i = index"
                                                        [value]="i.toString()" class="bg-[#363636]">{{ platform
                                                        }}</p-tab>
                                                </div>

                                            </p-tablist>





                                            <div class="flex items-center gap-2">
                                                <img src="assets/images/ListMagnifyingGlass.svg" alt="">
                                                <p class="font-semibold text-lg">Check Plagiarism</p>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="border-t-1 border-[#686868] bg-[#363636] p-5 rounded-b-xl">
                                        <div class="flex my-4 flex-col justify-center items-center">
                                            <!-- Content Display Area with Spinner Overlay -->
                                            <div class="relative w-full">
                                                <!-- Loading Spinner Overlay -->
                                                <div *ngIf="isRegeneratingSocialContent || isRegeneratingImage"
                                                    class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-2xl z-10">
                                                    <p-progressSpinner styleClass="w-16 h-16" strokeWidth="4"
                                                        fill="transparent" animationDuration=".8s"></p-progressSpinner>
                                                </div>

                                                <div class="flex justify-center items-center min-h-screen py-8">
                                                    <p-tabpanels
                                                        class="rounded-2xl shadow-xl max-w-3xl w-full overflow-hidden">


                                                        <p-tabpanel
                                                            *ngFor="let platform of selectedSocialPlatforms; let i = index"
                                                            [value]="i.toString()">
                                                            <!-- Facebook Post UI -->
                                                            <ng-container *ngIf="platform === 'Facebook'">
                                                                <div class="facebook-post bg-white rounded-lg shadow-md p-4"
                                                                    style="max-width: 500px; margin: 0 auto;">
                                                                    <!-- Facebook Header -->
                                                                    <div class="flex items-center gap-3 mb-3">
                                                                        <div
                                                                            class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0">
                                                                            <i
                                                                                class="pi pi-facebook text-white text-lg"></i>
                                                                        </div>
                                                                        <div class="flex-1">
                                                                            <h4
                                                                                class="font-semibold text-[#050505] text-[15px] leading-tight">
                                                                                {{ this.formData?.brand || 'Brand Name'
                                                                                }}</h4>
                                                                            <p
                                                                                class="text-[12px] text-[#65676B] flex items-center gap-1">
                                                                                <span>Just now</span>
                                                                                <span>¬∑</span>
                                                                                <i class="pi pi-globe text-[12px]"></i>
                                                                            </p>
                                                                        </div>
                                                                        <button
                                                                            class="text-[#65676B] hover:bg-[#F2F3F5] w-9 h-9 rounded-full flex items-center justify-center">
                                                                            <i class="pi pi-ellipsis-h"></i>
                                                                        </button>
                                                                    </div>

                                                                    <!-- Facebook Content -->
                                                                    <div class="mb-3">
                                                                        <p
                                                                            class="text-[#050505] text-[15px] leading-5 whitespace-pre-wrap">
                                                                            {{ this.editorContentSocialMedia1 }}</p>
                                                                        @if (hyperUrl) {
                                                                        <p class="mt-2 text-[15px]">
                                                                            <a [href]="this.hyperUrl" target="_blank"
                                                                                rel="noopener noreferrer"
                                                                                class="text-[#385898] hover:underline">
                                                                                {{this.hyperUrl}}
                                                                            </a>
                                                                        </p>
                                                                        }
                                                                    </div>

                                                                    <!-- Facebook Image -->
                                                                    @if (imageUrl) {
                                                                    <div class="-mx-4 mb-3">
                                                                        <img [src]="imageUrl" alt="Facebook Post"
                                                                            class="w-full h-auto object-cover" />
                                                                    </div>
                                                                    }

                                                                    <!-- Facebook Reactions Summary -->
                                                                    <div
                                                                        class="flex items-center justify-between py-2 text-[#65676B] text-[13px] border-b border-[#CED0D4]">
                                                                        <div class="flex items-center gap-1">
                                                                            <div class="flex -space-x-1">
                                                                                <span
                                                                                    class="w-[18px] h-[18px] bg-[#1877F2] rounded-full flex items-center justify-center text-white text-[10px]">üëç</span>
                                                                                <span
                                                                                    class="w-[18px] h-[18px] bg-[#F33E58] rounded-full flex items-center justify-center text-white text-[10px]">‚ù§Ô∏è</span>
                                                                            </div>
                                                                            <span class="ml-1">125</span>
                                                                        </div>
                                                                        <div class="flex gap-3">
                                                                            <span>42 comments</span>
                                                                            <span>15 shares</span>
                                                                        </div>
                                                                    </div>

                                                                    <!-- Facebook Interactions -->
                                                                    <div class="flex justify-around pt-1">
                                                                        <button
                                                                            class="flex-1 flex items-center justify-center gap-2 hover:bg-[#F2F3F5] py-2 rounded-md transition text-[#65676B] font-semibold text-[15px]">
                                                                            <i class="pi pi-thumbs-up text-lg"></i>
                                                                            <span>Like</span>
                                                                        </button>
                                                                        <button
                                                                            class="flex-1 flex items-center justify-center gap-2 hover:bg-[#F2F3F5] py-2 rounded-md transition text-[#65676B] font-semibold text-[15px]">
                                                                            <i class="pi pi-comment text-lg"></i>
                                                                            <span>Comment</span>
                                                                        </button>
                                                                        <button
                                                                            class="flex-1 flex items-center justify-center gap-2 hover:bg-[#F2F3F5] py-2 rounded-md transition text-[#65676B] font-semibold text-[15px]">
                                                                            <i class="pi pi-share-alt text-lg"></i>
                                                                            <span>Share</span>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </ng-container>

                                                            <!-- Instagram Post UI -->
                                                            <ng-container *ngIf="platform === 'Instagram'">
                                                                <div class="instagram-post bg-black rounded-lg overflow-hidden"
                                                                    style="max-width: 500px; margin: 0 auto;">
                                                                    <!-- Instagram Header -->
                                                                    <div
                                                                        class="flex items-center justify-between p-3 bg-black">
                                                                        <div class="flex items-center gap-3">
                                                                            <div
                                                                                class="w-8 h-8 rounded-full p-[2px] bg-gradient-to-br from-[#F58529] via-[#DD2A7B] to-[#8134AF]">
                                                                                <div
                                                                                    class="w-full h-full rounded-full bg-black flex items-center justify-center">
                                                                                    <span
                                                                                        class="text-white text-xs font-semibold">{{
                                                                                        (this.formData?.brand ||
                                                                                        'B')[0].toUpperCase() }}</span>
                                                                                </div>
                                                                            </div>
                                                                            <div>
                                                                                <h4
                                                                                    class="font-semibold text-white text-sm">
                                                                                    {{
                                                                                    (this.formData?.brand?.toLowerCase()
                                                                                    || 'brand_name').split('
                                                                                    ').join('_') }}
                                                                                </h4>
                                                                                <p class="text-[11px] text-white/60">
                                                                                    Sponsored</p>
                                                                            </div>
                                                                        </div>
                                                                        <button class="text-white">
                                                                            <i class="pi pi-ellipsis-v text-xl"></i>
                                                                        </button>
                                                                    </div>

                                                                    <!-- Instagram Image -->
                                                                    @if (imageUrl) {
                                                                    <div class="w-full bg-black">
                                                                        <img [src]="imageUrl" alt="Instagram Post"
                                                                            class="w-full h-auto object-cover"
                                                                            style="max-height: 500px;" />
                                                                    </div>
                                                                    }

                                                                    <!-- Instagram Interactions -->
                                                                    <div class="flex items-center gap-4 p-3 bg-black">
                                                                        <button class="hover:opacity-50 transition">
                                                                            <svg width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                stroke="white" stroke-width="2">
                                                                                <path
                                                                                    d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                                                                                </path>
                                                                            </svg>
                                                                        </button>
                                                                        <button class="hover:opacity-50 transition">
                                                                            <svg width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                stroke="white" stroke-width="2">
                                                                                <path
                                                                                    d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z">
                                                                                </path>
                                                                            </svg>
                                                                        </button>
                                                                        <button class="hover:opacity-50 transition">
                                                                            <svg width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                stroke="white" stroke-width="2">
                                                                                <line x1="22" y1="2" x2="11" y2="13">
                                                                                </line>
                                                                                <polygon
                                                                                    points="22 2 15 22 11 13 2 9 22 2">
                                                                                </polygon>
                                                                            </svg>
                                                                        </button>
                                                                        <button
                                                                            class="ml-auto hover:opacity-50 transition">
                                                                            <svg width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                stroke="white" stroke-width="2">
                                                                                <path
                                                                                    d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z">
                                                                                </path>
                                                                            </svg>
                                                                        </button>
                                                                    </div>

                                                                    <!-- Instagram Likes -->
                                                                    <div class="px-3 pb-2 bg-black">
                                                                        <p class="text-white font-semibold text-sm">
                                                                            1,234 likes</p>
                                                                    </div>

                                                                    <!-- Instagram Caption -->
                                                                    <div class="px-3 pb-3 bg-black">
                                                                        <p class="text-white text-sm leading-tight">
                                                                            <span class="font-semibold">{{
                                                                                (this.formData?.brand?.toLowerCase() ||
                                                                                'brand_name').split(' ').join('_')
                                                                                }}</span>
                                                                            <span class="ml-2">{{
                                                                                this.editorContentSocialMedia2 }}</span>
                                                                        </p>
                                                                        @if (hyperUrl) {
                                                                        <p class="text-sm mt-2">
                                                                            <a [href]="this.hyperUrl" target="_blank"
                                                                                rel="noopener noreferrer"
                                                                                class="text-[#E0F1FF] hover:underline">
                                                                                {{this.hyperUrl}}
                                                                            </a>
                                                                        </p>
                                                                        }
                                                                        <p class="text-white/50 text-xs mt-2">View all
                                                                            42 comments</p>
                                                                        <p
                                                                            class="text-white/40 text-[10px] mt-1 uppercase">
                                                                            2 hours ago</p>
                                                                    </div>

                                                                    <!-- Instagram Comment Input -->
                                                                    <div
                                                                        class="flex items-center gap-3 px-3 py-2 border-t border-white/10 bg-black">
                                                                        <button class="hover:opacity-50 transition">
                                                                            <span class="text-xl">üòä</span>
                                                                        </button>
                                                                        <input type="text"
                                                                            placeholder="Add a comment..."
                                                                            class="flex-1 bg-transparent text-white text-sm outline-none placeholder-white/50" />
                                                                        <button
                                                                            class="text-[#0095F6] font-semibold text-sm hover:text-white transition">Post</button>
                                                                    </div>
                                                                </div>
                                                            </ng-container>

                                                            <!-- Other platforms fallback -->
                                                            <ng-container
                                                                *ngIf="platform !== 'Facebook' && platform !== 'Instagram'">
                                                                <p class="post-caption text-black">
                                                                    Content for {{ platform }} platform
                                                                </p>
                                                            </ng-container>
                                                        </p-tabpanel>
                                                    </p-tabpanels>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex items-center gap-2 mt-4">
                                            <button
                                                (click)="appendToSocialFeedback('Use an informal tone for communication')"
                                                class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Use
                                                an informal
                                                tone
                                                for
                                                communication</button>
                                            <button (click)="appendToSocialFeedback('Use 200 words')"
                                                class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Make
                                                Another
                                                Version</button>
                                        </div>
                                        <!-- Regenerate Social Media Content Section -->
                                        <div class="w-full mt-6 mb-6">
                                            <label class="regeneration-label mb-2 block">
                                                <i class="pi pi-refresh mr-2"></i>Content Regenerate
                                            </label>
                                            <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                                style="box-shadow: 0 2px 16px 0 #00000040;">
                                                <!-- Input -->
                                                <input pInputText [(ngModel)]="socialContentFeedback"
                                                    [disabled]="isRegeneratingSocialContent"
                                                    class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                    placeholder="Type your feedback to regenerate content"
                                                    style="height: 48px;" />
                                                <!-- Submit Button -->
                                                <button (click)="regenerateSocialContent()"
                                                    [disabled]="isRegeneratingSocialContent"
                                                    class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                    <i *ngIf="!isRegeneratingSocialContent"
                                                        class="pi pi-send text-2xl text-white"></i>
                                                    <p-progressSpinner *ngIf="isRegeneratingSocialContent"
                                                        styleClass="w-6 h-6" strokeWidth="4" fill="transparent"
                                                        animationDuration=".8s"></p-progressSpinner>
                                                </button>
                                            </div>
                                        </div>

                                        <!-- Regenerate Image Section -->
                                        <div class="w-full mt-6 mb-6">
                                            <label class="regeneration-label mb-2 block">
                                                <i class="pi pi-image mr-2"></i>Image Regenerate
                                            </label>
                                            <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                                style="box-shadow: 0 2px 16px 0 #00000040;">
                                                <!-- Input -->
                                                <input pInputText [(ngModel)]="imageFeedback"
                                                    [disabled]="isRegeneratingImage"
                                                    class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                    placeholder="Type your feedback to regenerate image"
                                                    style="height: 48px;" />
                                                <!-- Submit Button -->
                                                <button (click)="regenerateImage()" [disabled]="isRegeneratingImage"
                                                    class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                    <i *ngIf="!isRegeneratingImage"
                                                        class="pi pi-send text-2xl text-white"></i>
                                                    <p-progressSpinner *ngIf="isRegeneratingImage" styleClass="w-6 h-6"
                                                        strokeWidth="4" fill="transparent"
                                                        animationDuration=".8s"></p-progressSpinner>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </p-tabs>
                            </div>
                        </div>
                    </div>
                </p-tabpanel>
                <p-tabpanel value="2">
                    <div class="flex flex-wrap gap-4 w-full">
                        <div class="md:flex-1">
                            <div class="">

                                <p-accordion value="0" class="bg-[#1A1A1A]">
                                    <p-accordion-panel value="0">
                                        <p-accordion-header
                                            class="border-1 p-4 border-b-0 rounded-t-xl border-[#363636]">
                                            Brand Guidelines & Assets
                                        </p-accordion-header>
                                        <p-accordion-content class="p-4 border-1 border-[#363636]">
                                            <h4 class="text-[#9B9B9B] mb-2">Edit Brand Colors</h4>
                                            <div class="flex justify-center gap-4 items-center">
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#E41E28]"></a>
                                                    <p>Primary</p>
                                                </div>
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#CBEBFC]"></a>
                                                    <p>Secondary</p>
                                                </div>
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#3F3F3F]"></a>
                                                    <p>Tertiary</p>
                                                </div>
                                                <div
                                                    class="flex w-20 flex-col items-center justify-center rounded-xl bg-[#1A1A1A] p-3">
                                                    <a class="p-4 mb-1 rounded-full bg-[#B5876D]"></a>
                                                    <p>Accent</p>
                                                </div>
                                            </div>

                                        </p-accordion-content>
                                    </p-accordion-panel>
                                </p-accordion>

                                <p-accordion value="1" class="bg-[#1A1A1A]">
                                    <p-accordion-panel value="1">
                                        <p-accordion-header class="border-1 border-t-0 p-4 border-[#363636]">
                                            Task Details
                                        </p-accordion-header>

                                        <p-accordion-content class="p-4 border-1 border-[#363636] rounded-b-xl">
                                            <div class="flex justify-between items-start">
                                                <!-- Blog Tab Task Details -->
                                                <div class="grid grid-cols-2 gap-y-4 gap-x-6 text-base text-white">
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Client Name</span>
                                                        <span class="font-semibold">{{ formData?.brand || '-' }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Purpose</span>
                                                        <span class="font-semibold">{{ formData?.purpose3 || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Topic</span>
                                                        <span class="font-semibold">{{ formData?.topic || '-' }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Format</span>
                                                        <span class="font-semibold">{{ formData?.format || '-' }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Due Date</span>
                                                        <span class="font-semibold">{{ formData?.dueDate || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Tone</span>
                                                        <span class="font-semibold">{{ formData?.Type3 || '-' }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Keywords</span>
                                                        <span class="font-semibold">{{ formData?.keywords || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Word Limit</span>
                                                        <span class="font-semibold">{{ formData?.wordLimit3 || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Target Audience</span>
                                                        <span class="font-semibold">{{ formData?.readers3 || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Image Option</span>
                                                        <span class="font-semibold">{{ formData?.imageOpt || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Outline</span>
                                                        <span class="font-semibold">{{ formData?.outline || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Image Description</span>
                                                        <span class="font-semibold">{{ formData?.imgDesc || '-'
                                                            }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </p-accordion-content>
                                    </p-accordion-panel>
                                </p-accordion>
                            </div>
                        </div>
                        <div class="md:flex-2">
                            <div class="flex flex-col">
                                <div class="rounded-t-xl bg-[#363636]">

                                    <div class="flex justify-between items-center p-4 flex-wrap">
                                        <div class="flex items-center gap-2">
                                            <button class="bg-[#8D4BFF] rounded-full py-4 px-5" disabled><i
                                                    class="pi pi-sparkles"></i></button>
                                            <h2 class="text-2xl font-bold">Generated Results</h2>
                                        </div>
                                        <!-- @if (selection.code == 'social') {
                                            
                                                                         <p-tabview [(activeIndex)]="activeTabIndex">
                                                                            <p-tabpanel header="Facebook"></p-tabpanel>
                                                                            <p-tabpanel header="Instagram"></p-tabpanel>
                                                                        </p-tabview> 
                                            
                                                                        } -->

                                        <div class="flex items-center gap-2">
                                            <img src="assets/images/ListMagnifyingGlass.svg" alt="">
                                            <p class="font-semibold text-lg">Check Plagiarism</p>
                                        </div>
                                    </div>

                                </div>
                                <div class="border-t-1 border-[#686868] bg-[#363636] p-5 rounded-b-xl">
                                    <div class="flex my-4 flex-col justify-center items-center">
                                        <div class="relative w-full">
                                            <div *ngIf="isRegeneratingBlogContent || isRegeneratingImage"
                                                class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-2xl z-10">
                                                <p-progressSpinner styleClass="w-16 h-16" strokeWidth="4"
                                                    fill="transparent" animationDuration=".8s"></p-progressSpinner>
                                            </div>



                                            <div class="flex justify-center items-center min-h-screen py-8">
                                                <div
                                                    class="bg-[#F6F5EF] rounded-2xl border-4  shadow-xl max-w-3xl w-full overflow-hidden">
                                                    <!-- Blog Title -->
                                                    @if (blog_title) {
                                                    <div
                                                        style="background: black; padding: 30px 20px; text-align: center; color: #ffffff;">
                                                        <h1 style="margin: 0; font-size: 28px; font-family: Arial, sans-serif; line-height: 1.2;"
                                                            [innerHTML]="blog_title">
                                                        </h1>
                                                    </div>
                                                    }
                                                    <!-- Image Banner -->
                                                    <div class="w-full">
                                                        @if (imageUrl) {
                                                        <img [src]="imageUrl" alt="Main Visual"
                                                            class="w-full object-cover" style="max-height:320px;" />
                                                        }

                                                    </div>
                                                    <!-- Article Content -->

                                                    <div class="px-10 py-8">
                                                        <div *ngIf="!contentDisabled">
                                                            <div class="text-black" [innerHTML]="blogContent"></div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex items-center gap-2 mt-4">
                                            <button
                                                (click)="appendToBlogFeedback('Use an informal tone for communication')"
                                                class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Use
                                                an informal tone
                                                for
                                                communication</button>
                                            <button (click)="appendToBlogFeedback('Use 200 words')"
                                                class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Make
                                                Another
                                                Version</button>
                                        </div>
                                    </div>
                                    <!-- Regenerate Blog Content Section -->
                                    <div class="w-full mt-6 mb-6">
                                        <label class="regeneration-label mb-2 block">
                                            <i class="pi pi-refresh mr-2"></i>Content Regenerate
                                        </label>
                                        <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                            style="box-shadow: 0 2px 16px 0 #00000040;">
                                            <!-- Input -->
                                            <input pInputText [(ngModel)]="blogContentFeedback"
                                                [disabled]="isRegeneratingBlogContent"
                                                class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                placeholder="Type your feedback to regenerate content"
                                                style="height: 48px;" />
                                            <!-- Submit Button -->
                                            <button (click)="regenerateBlogContent()"
                                                [disabled]="isRegeneratingBlogContent"
                                                class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                <i *ngIf="!isRegeneratingBlogContent"
                                                    class="pi pi-send text-2xl text-white"></i>
                                                <p-progressSpinner *ngIf="isRegeneratingBlogContent"
                                                    styleClass="w-6 h-6" strokeWidth="4" fill="transparent"
                                                    animationDuration=".8s"></p-progressSpinner>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Regenerate Image Section -->
                                    <div class="w-full mt-6 mb-6">
                                        <label class="regeneration-label mb-2 block">
                                            <i class="pi pi-image mr-2"></i>Image Regenerate
                                        </label>
                                        <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                            style="box-shadow: 0 2px 16px 0 #00000040;">
                                            <!-- Input -->
                                            <input pInputText [(ngModel)]="imageFeedback"
                                                [disabled]="isRegeneratingImage"
                                                class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                placeholder="Type your feedback to regenerate image"
                                                style="height: 48px;" />
                                            <!-- Submit Button -->
                                            <button (click)="regenerateImage()" [disabled]="isRegeneratingImage"
                                                class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                <i *ngIf="!isRegeneratingImage"
                                                    class="pi pi-send text-2xl text-white"></i>
                                                <p-progressSpinner *ngIf="isRegeneratingImage" styleClass="w-6 h-6"
                                                    strokeWidth="4" fill="transparent"
                                                    animationDuration=".8s"></p-progressSpinner>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-tabpanel>

                <!-- AI Video Tab Panel -->
                <p-tabpanel value="3">
                    <div class="flex flex-wrap mt-5 gap-4 w-full">
                        <div class="md:flex-1">
                            <div class="">
                                <p-accordion value="0" class="bg-[#1A1A1A]">
                                    <p-accordion-panel value="0">
                                        <p-accordion-header
                                            class="border-1 p-4 border-b-0 rounded-t-xl border-[#363636]">
                                            Video Details
                                        </p-accordion-header>
                                        <p-accordion-content class="p-4 border-1 border-[#363636] rounded-b-xl">
                                            <div class="flex justify-between items-start">
                                                <div class="grid grid-cols-2 gap-y-4 gap-x-6 text-base text-white">
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Video</span>
                                                        <span class="font-semibold">{{ currentVideoIndex + 1 }} of {{
                                                            carouselVideos.length }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </p-accordion-content>
                                    </p-accordion-panel>
                                </p-accordion>
                            </div>
                        </div>

                        <!-- Video Carousel Section -->
                        <div class="flex-[2] rounded-xl bg-[#1A1A1A] p-6 flex flex-col items-center justify-center">
                            <p-carousel [value]="carouselVideos" [numVisible]="1" [numScroll]="1" [circular]="false"
                                [showNavigators]="true" [showIndicators]="false"
                                (onPage)="currentVideoIndex = $event.page ?? 0">
                                <ng-template let-video pTemplate="item">
                                    <div class="w-full flex justify-center items-center" style="min-height: 500px;">
                                        <video [src]="video" controls class="w-full rounded-lg"
                                            style="aspect-ratio: 1/1; object-fit: cover; max-height: 500px;">
                                            Your browser does not support the video tag.
                                        </video>
                                    </div>
                                </ng-template>
                            </p-carousel>

                            <!-- Video Counter -->
                            <div class="text-center mt-4">
                                <p class="text-white text-lg font-semibold">
                                    Video {{ currentVideoIndex + 1 }} of {{ carouselVideos.length }}
                                </p>
                            </div>
                        </div>
                    </div>
                </p-tabpanel>
            </p-tabpanels>


        </div>
    </p-tabs>

    <div class="flex justify-end mr-4 mb-8">
        <p-button class="bg-[#8D4BFF] p-4 rounded-full" label="Send For Approval"
            (onClick)="navigateToForm()"></p-button>
    </div>
</div>
<!-- } -->
<!-- } -->