<app-header></app-header>

<!-- Toast for notifications -->
<p-toast position="top-right" [breakpoints]="{'920px': {width: '100%', right: '0', left: '0'}}"></p-toast>

<!-- @if (loading) {
<app-loader></app-loader>
} @else { -->
<div class="fade-in">
    <p-tabs [(value)]="activeTabValue">


        <div
            class="w-[90%] my-8 mx-auto p-8 border-2 border-[#B66DFF] rounded-2xl flex flex-col justify-center items-center">
            <div class="flex w-full flex-wrap justify-between items-center mb-5">
                <div class="flex flex-col justify-center gap-2">
                    <div class="flex items-center gap-2">
                        <a routerLink="/generate-request" class="text-2xl cursor-pointer"><i
                                class="pi pi-angle-left mr-1"></i>Combined Campaign<i class="pi pi-pencil ml-1"></i></a>
                    </div>
                    <div class="flex items-center gap-2">
                        <a class="text-decoration-none p-3 rounded-full border-1 border-[#363636] flex gap-2"><img
                                src="assets/images/cube.svg">Combined Campaign</a>
                        <a class="text-decoration-none p-3 text-[#9B9B9B] rounded-full border-1 border-[#363636]">April
                            16,
                            2025</a>
                    </div>
                </div>
                <p-tablist class="p-3 border-1 border-[#4D4D4D] rounded-full items-center">
                    <div class="flex gap-4 items-center justify-center bg-[#09040e]">
                        <p-tab value="0" class="text-white"><i class="pi pi-envelope text-white"></i>Email</p-tab>
                        <p-tab value="1" class="text-white"><img src="assets/images/InstagramLogo.svg" alt="">Social
                            Media</p-tab>
                        <p-tab value="2" class="text-white"><img src="assets/images/Browser.svg" alt="">Website
                            Blog</p-tab>
                        <p-tab value="3" class="text-white"><i class="pi pi-video text-white"></i>AI Video</p-tab>
                    </div>

                </p-tablist>
                <div class="flex items-center gap-4">

                    <button class="border border-2 border-[#BB93FF] px-5 py-3 rounded-full">
                        View All Comments
                    </button>

                    <!-- <p-dialog [(visible)]="showComments" [modal]="true" [closable]="true" [dismissableMask]="true"
                    [style]="{width: '500px', borderRadius: '12px', overflow: 'hidden'}"
                    contentStyleClass="p-4 bg-[#181B22]" header="Comments ({{commentsList.length}})" [showHeader]="true"
                    [closeOnEscape]="true">
                    <div class="p-0 bg-[#181B22]">
                        <div *ngFor="let comment of commentsList"
                            class="bg-[#23262E] rounded-lg p-3 mb-3 flex gap-3 items-start">
                            <img [src]="comment.avatar" alt="avatar" class="w-8 h-8 rounded-full object-cover mt-1" />
                            <div class="flex-1">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="font-semibold text-white text-sm">{{ comment.name }}</span>
                                    <span class="text-xs text-gray-400">{{ comment.time }}</span>
                                </div>
                                <div class="text-xs text-gray-300">{{ comment.text }}</div>
                            </div>
                        </div>x
                    </div>
                </p-dialog> -> -->
                </div>
            </div>

            <p-tabpanels class="bg-[#09040e]" class="w-full flex flex-col">
                <p-tabpanel value="0" class="bg-[#09040e]">
                    <div class="flex mt-5 gap-4 w-full items-start">
                        <div class="flex-1 min-w-0">
                            <div class="">

                                <p-accordion value="0" class="bg-[#121212]">
                                    <p-accordion-panel value="0">
                                        <p-accordion-header
                                            class="bg-[#121212] border-1 border-b-0 rounded-t-xl p-4 border-[#363636]">
                                            Task Details
                                        </p-accordion-header>

                                        <p-accordion-content
                                            class="p-4 bg-[#121212] border-1 border-[#363636] rounded-b-xl">
                                            <div class="flex justify-between items-start">


                                                <div class="grid grid-cols-2 gap-y-4 gap-x-6 text-base text-white">
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Client Name</span>
                                                        <span class="font-semibold">{{this.formData?.brand || this.brand
                                                            ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Purpose</span>
                                                        <span class="font-semibold">{{this.formData?.purpose ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Topic</span>
                                                        <span class="font-semibold">{{this.formData?.topic ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Due Date</span>
                                                        <span class="font-semibold">{{this.formData?.dueDate ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Tone</span>
                                                        <span class="font-semibold">{{this.formData?.Type ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Word Limit</span>
                                                        <span class="font-semibold">{{this.formData?.wordLimit ||
                                                            this.formData?.word_limit || '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Target Audience</span>
                                                        <span class="font-semibold">{{this.formData?.readers ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Image Option</span>
                                                        <span class="font-semibold">{{this.formData?.imageOpt ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Image Description</span>
                                                        <span class="font-semibold">{{this.formData?.imgDesc ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Additional Details</span>
                                                        <span class="font-semibold">{{this.formData?.additional ||
                                                            '-'}}</span>
                                                    </div>
                                                </div>



                                            </div>

                                        </p-accordion-content>
                                    </p-accordion-panel>
                                </p-accordion>
                            </div>
                        </div>
                        <div class="flex-[3] min-w-0">
                            <div class="flex flex-col">
                                <div class="rounded-t-xl bg-[#363636]">

                                    <div class="flex justify-between items-center p-4 flex-wrap">
                                        <div class="flex items-center gap-2">
                                            <button class="bg-[#8D4BFF] rounded-full py-4 px-5" disabled><i
                                                    class="pi pi-sparkles"></i></button>
                                            <h2 class="text-2xl font-bold">Generated Results</h2>
                                        </div>
                                        <!-- @if (selection.code == 'social') {
                                            
                                                                         <p-tabview [(activeIndex)]="activeTabIndex">
                                                                            <p-tabpanel header="Facebook"></p-tabpanel>
                                                                            <p-tabpanel header="Instagram"></p-tabpanel>
                                                                        </p-tabview> 
                                            
                                                                        } -->

                                        <div class="flex items-center gap-2">
                                            <img src="assets/images/ListMagnifyingGlass.svg" alt="">
                                            <p class="font-semibold text-lg" style="cursor: pointer;"
                                                (click)="onCreateProject()">Check Plagiarism</p>
                                        </div>
                                    </div>

                                </div>
                                <div class="border-t-1 border-[#686868] bg-[#363636] p-5 rounded-b-xl">
                                    <div class="flex my-4 flex-col justify-center items-center">

                                        <!-- Content Display Area with Spinner Overlay -->
                                        <div class="relative w-full">
                                            <!-- Loading Spinner Overlay -->
                                            <div *ngIf="isRegeneratingEmailContent || isRegeneratingImage"
                                                class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-2xl z-10">
                                                <p-progressSpinner styleClass="w-16 h-16" strokeWidth="4"
                                                    fill="transparent" animationDuration=".8s"></p-progressSpinner>
                                            </div>

                                            <div class="w-full mb-8">
                                                <h3 class="text"> Please Choose a subject</h3>
                                                <form>
                                                    <p-select name="subject" [options]="subjctsEmail"
                                                        styleClass="w-full p-4 custom-select-panel"
                                                        placeholder="Please Select" [(ngModel)]="selectedSubject"
                                                        (onChange)="onSubjectChange($event.value)"></p-select>
                                                </form>
                                            </div>
                                            <table border="0" cellpadding="0" cellspacing="0" width="100%"
                                                style="max-width: 640px; margin: 0 auto; border-collapse: collapse;">
                                                <tbody>

                                                    <tr>

                                                        <td class="rounded-t-xl"
                                                            style="background-color:#ffffff; padding: 20px;display: flex; justify-content: center;align-items: center;">
                                                            <img src="assets/images/Logo_NIKE.svg" alt="Nike Logo"
                                                                style="max-height: 60px;">
                                                    </tr>

                                                    <tr>
                                                        <td
                                                            style="background:black; padding: 30px 20px; text-align: center; color: #ffffff;">
                                                            <h1
                                                                style="margin: 0; font-size: 28px; font-family: Arial, sans-serif;line-height: 1.2;">
                                                                <span class="email-content"
                                                                    style="font-weight: bold;">STUDS
                                                                    EVOLVED.<br>PERFORMANCE PERFECTED.</span>
                                                            </h1>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td [style.height]="imageContainerHeight"
                                                            [style.width]="imageContainerWidth" align="center"
                                                            class="image-width"
                                                            style="font-size: 1px;line-height: 1px; overflow: hidden;">
                                                            <div class="mktoImg" id="Banner2ef" mktolockimgsize="true"
                                                                style="width: 100%; height: 100%; overflow: hidden;">
                                                                <img [style.height]="imageContainerHeight"
                                                                    [style.width]="imageContainerWidth" border="0"
                                                                    alt="Banner Image" src="assets/images/nike-ice.png"
                                                                    style="object-fit: cover; object-position: center;" />
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style=" text-align: center; background-color: #ffffff;">
                                                            <ng-container *ngIf="imageOfferUrl && !imageUrl; ">
                                                                <img [src]="this.imageOfferUrl" alt="banner"
                                                                    style="max-width: 100%; height: auto;" />
                                                            </ng-container>

                                                        </td>
                                                    </tr>




                                                    <tr>
                                                        <td style="background-color: #ffffff; padding: 30px 20px;">
                                                            <div
                                                                style="font-family: 'Open Sans', sans-serif; color: #333333; line-height: 1.6;">
                                                                Hi {{ '{' }}First Name{{ '}' }},
                                                                <br><br>
                                                                Meet the all-new <strong>Nike CryoShot Mercurial
                                                                    R90</strong>, a bold fusion of soccer boot
                                                                engineering and street-ready design. Inspired by the
                                                                iconic Mercurial line and infused with the fierce edge
                                                                of the Total 90, this sneaker is built for those who
                                                                demand performance with personality.
                                                                <br><br>
                                                                <strong>Precision. Style. Chill, redefined.</strong>
                                                                <br><br>
                                                                Featuring a sleek, breathable upper with striking
                                                                graphic accents, the CryoShot Mercurial R90 delivers a
                                                                locked-in feel for all-day comfort, on or off the field.
                                                                The dual-density midsole provides explosive
                                                                responsiveness, while the distinctive cooling-inspired
                                                                outsole pattern enhances grip and keeps your stride
                                                                smooth, no matter where the game takes you.
                                                                <br><br>
                                                                Whether you're dominating a pickup game, hitting the
                                                                streets, or simply making a statement, the CryoShot
                                                                Mercurial R90 brings the heat‚Äîand the ice. It's more
                                                                than a sneaker. It's a mindset.

                                                                <br><br>
                                                                <strong>Team Nike</strong>
                                                            </div>

                                                        </td>
                                                    </tr>


                                                    <tr>
                                                        <td
                                                            style="background-color: #f8f8f8; padding: 30px 20px; text-align: center;">

                                                            <a [href]="this.showMore" target="_blank"
                                                                style="display: inline-block; padding: 12px 30px; background: black; color: #ffffff; text-decoration: none; font-family: Arial, sans-serif; font-weight: bold; border-radius: 4px; text-transform: uppercase; letter-spacing: 1px;">
                                                                SHOP NOW
                                                            </a>
                                                        </td>
                                                    </tr>


                                                    <tr>
                                                        <td class="rounded-b-xl"
                                                            style="background-color: #333333; padding: 30px 20px; text-align: center; color: #ffffff;">
                                                            <p
                                                                style="margin: 0 0 15px 0; font-family: Arial, sans-serif; font-size: 14px;">
                                                                www.nike.com | INFO&#64;nike.com

                                                            </p>
                                                            <p
                                                                style="margin: 0 0 15px 0; font-family: Arial, sans-serif; font-size: 12px; line-height: 1.5; color: #cccccc;">
                                                                As a valued subscriber, we greatly appreciate your time.
                                                                Thank you for
                                                                your
                                                                continued attention
                                                                to
                                                                our company news.
                                                                You may unsubscribe from our email updates at any time.
                                                            </p>
                                                            <p
                                                                style="margin: 0; font-family: Arial, sans-serif; font-size: 12px; color: #999999;">
                                                                Copyright ¬© 2025 All Rights
                                                                Reserved.
                                                            </p>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-2 mt-4">
                                        <button
                                            (click)="appendToEmailFeedback('Use an informal tone for communication')"
                                            class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Use
                                            an informal tone
                                            for
                                            communication</button>
                                        <button (click)="appendToEmailFeedback('Use 200 words')"
                                            class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Use
                                            200 Words</button>
                                    </div>
                                    <!-- Regenerate Email Content Section -->
                                    <div class="w-full mt-6 mb-6">
                                        <label class="regeneration-label mb-2 block">
                                            <i class="pi pi-refresh mr-2"></i>Content Regenerate
                                        </label>
                                        <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                            style="box-shadow: 0 2px 16px 0 #00000040;">
                                            <!-- Input -->
                                            <input pInputText [(ngModel)]="emailContentFeedback"
                                                [disabled]="isRegeneratingEmailContent"
                                                class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                placeholder="Type your feedback to regenerate content"
                                                style="height: 48px;" />
                                            <!-- Submit Button -->
                                            <button (click)="regenerateEmailContent()"
                                                [disabled]="isRegeneratingEmailContent"
                                                class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                <i *ngIf="!isRegeneratingEmailContent"
                                                    class="pi pi-send text-2xl text-white"></i>
                                                <p-progressSpinner *ngIf="isRegeneratingEmailContent"
                                                    styleClass="w-6 h-6" strokeWidth="4" fill="transparent"
                                                    animationDuration=".8s"></p-progressSpinner>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Regenerate Image Section -->
                                    <div class="w-full mt-6 mb-6">
                                        <label class="regeneration-label mb-2 block">
                                            <i class="pi pi-image mr-2"></i>Image Regenerate
                                        </label>
                                        <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                            style="box-shadow: 0 2px 16px 0 #00000040;">
                                            <!-- Input -->
                                            <input pInputText [(ngModel)]="imageFeedback"
                                                [disabled]="isRegeneratingImage"
                                                class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                placeholder="Type your feedback to regenerate image"
                                                style="height: 48px;" />
                                            <!-- Submit Button -->
                                            <button (click)="regenerateImage()" [disabled]="isRegeneratingImage"
                                                class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                <i *ngIf="!isRegeneratingImage"
                                                    class="pi pi-send text-2xl text-white"></i>
                                                <p-progressSpinner *ngIf="isRegeneratingImage" styleClass="w-6 h-6"
                                                    strokeWidth="4" fill="transparent"
                                                    animationDuration=".8s"></p-progressSpinner>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-tabpanel>
                <p-tabpanel value="1" class="bg-[#09040e]">
                    <div class="flex mt-5 gap-4 w-full items-start">
                        <div class="flex-1 min-w-0">
                            <div class="">

                                <p-accordion value="0" class="bg-[#121212]">
                                    <p-accordion-panel value="0">
                                        <p-accordion-header
                                            class="bg-[#121212] border-1 border-b-0 p-4 rounded-t-xl border-[#363636]">
                                            Task Details
                                        </p-accordion-header>

                                        <p-accordion-content
                                            class="p-4 bg-[#121212] border-1 border-[#363636] rounded-b-xl">
                                            <div class="flex justify-between items-start">
                                                <!-- Social Media Tab Task Details -->
                                                <div class="grid grid-cols-2 gap-y-4 gap-x-6 text-base text-white">
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Client Name</span>
                                                        <span class="font-semibold">{{this.formData?.brand ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Purpose</span>
                                                        <span class="font-semibold">{{this.formData?.purpose2 ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Topic</span>
                                                        <span class="font-semibold">{{this.formData?.topic ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Due Date</span>
                                                        <span class="font-semibold">{{this.formData?.dueDate ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Tone</span>
                                                        <span class="font-semibold">{{this.formData?.Type ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Word Limit</span>
                                                        <span class="font-semibold">{{this.formData?.wordLimit2 ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Target Audience</span>
                                                        <span class="font-semibold">{{this.formData?.readers2 ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Platform</span>
                                                        <span class="font-semibold">{{this.formData?.campaign2 ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Image Option</span>
                                                        <span class="font-semibold">{{this.formData?.imageOpt ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Image Description</span>
                                                        <span class="font-semibold">{{this.formData?.imgDesc ||
                                                            '-'}}</span>
                                                    </div>
                                                </div>
                                            </div>

                                        </p-accordion-content>
                                    </p-accordion-panel>
                                </p-accordion>
                            </div>
                        </div>
                        <div class="flex-[3] min-w-0">
                            <div class="flex flex-col">
                                <p-tabs value="0">
                                    <div class="rounded-t-xl bg-[#363636]">

                                        <div class="flex justify-between items-center p-4 flex-wrap">
                                            <div class="flex items-center gap-2">
                                                <button class="bg-[#8D4BFF] rounded-full py-4 px-5" disabled><i
                                                        class="pi pi-sparkles"></i></button>
                                                <h2 class="text-2xl font-bold">Generated Results</h2>
                                            </div>


                                            <p-tablist
                                                class="p-3 border-1 border-[#4D4D4D] rounded-full items-center bg-[#363636]">
                                                <div class="flex gap-4 items-center justify-center bg-[#09040e]">
                                                    <p-tab
                                                        *ngFor="let platform of selectedSocialPlatforms; let i = index"
                                                        [value]="i.toString()" class="bg-[#363636]">{{ platform
                                                        }}</p-tab>
                                                </div>

                                            </p-tablist>





                                            <div class="flex items-center gap-2">
                                                <img src="assets/images/ListMagnifyingGlass.svg" alt="">
                                                <p class="font-semibold text-lg">Check Plagiarism</p>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="border-t-1 border-[#686868] bg-[#363636] p-5 rounded-b-xl">
                                        <div class="flex my-4 flex-col justify-center items-center">
                                            <!-- Content Display Area with Spinner Overlay -->
                                            <div class="relative w-full">
                                                <!-- Loading Spinner Overlay -->
                                                <div *ngIf="isRegeneratingSocialContent || isRegeneratingImage"
                                                    class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-2xl z-10">
                                                    <p-progressSpinner styleClass="w-16 h-16" strokeWidth="4"
                                                        fill="transparent" animationDuration=".8s"></p-progressSpinner>
                                                </div>

                                                <div class="flex justify-center items-center min-h-screen py-8">
                                                    <p-tabpanels
                                                        class="rounded-2xl max-w-3xl w-full overflow-hidden bg-transparent"
                                                        [style]="{'box-shadow': 'none'}">


                                                        <p-tabpanel
                                                            *ngFor="let platform of selectedSocialPlatforms; let i = index"
                                                            [value]="i.toString()">
                                                            <!-- Facebook Post UI -->
                                                            <ng-container *ngIf="platform === 'Facebook'">
                                                                <div class="facebook-post bg-white rounded-lg overflow-hidden"
                                                                    style="max-width: 500px; margin: 0 auto; box-shadow: none;">

                                                                    <!-- Facebook Header -->
                                                                    <div class="flex items-center gap-3 mb-3 p-4 pb-0">
                                                                        <div
                                                                            class="w-10 h-10 rounded-full bg-black flex items-center justify-center flex-shrink-0">
                                                                            <img src="assets/images/Logo_NIKE.svg"
                                                                                alt="Nike"
                                                                                class="w-5 h-5 object-contain"
                                                                                style="filter: brightness(0) invert(1);" />
                                                                        </div>
                                                                        <div class="flex-1">
                                                                            <h4
                                                                                class="font-semibold text-[#050505] text-[15px] leading-tight">
                                                                                Nike</h4>
                                                                            <p
                                                                                class="text-[12px] text-[#65676B] flex items-center gap-1">
                                                                                <span>Just now</span>
                                                                                <span>¬∑</span>
                                                                                <i class="pi pi-globe text-[12px]"></i>
                                                                            </p>
                                                                        </div>
                                                                        <button
                                                                            class="text-[#65676B] hover:bg-[#F2F3F5] w-9 h-9 rounded-full flex items-center justify-center">
                                                                            <i class="pi pi-ellipsis-h"></i>
                                                                        </button>
                                                                    </div>

                                                                    <!-- Nike Shoe Image -->


                                                                    <!-- Facebook Content -->
                                                                    <div class="mb-3 px-4">
                                                                        <p
                                                                            class="text-[#050505] text-[15px] leading-5 whitespace-pre-line">
                                                                            Fast. Precise. Legendary.
                                                                            The Mercurial defines speed. The Tiempo
                                                                            defines touch. Together, they define
                                                                            football. üî¥ The future drops at the
                                                                            CryoShot Show. #NikeFootball #Mercurial
                                                                            #Tiempo #CryoShot</p>
                                                                    </div>
                                                                    <div class="w-full px-4">
                                                                        <img src="assets/images/nike-insta.png"
                                                                            alt="Nike Shoe"
                                                                            class="w-full h-auto object-cover" />
                                                                    </div>

                                                                    <!-- Facebook Reactions Summary -->
                                                                    <div
                                                                        class="flex items-center justify-between py-2 px-4 text-[#65676B] text-[13px] border-b border-[#CED0D4]">
                                                                        <div class="flex items-center gap-1">
                                                                            <div class="flex -space-x-1">
                                                                                <span
                                                                                    class="w-[18px] h-[18px] bg-[#1877F2] rounded-full flex items-center justify-center text-white text-[10px]">üëç</span>
                                                                                <span
                                                                                    class="w-[18px] h-[18px] bg-[#F33E58] rounded-full flex items-center justify-center text-white text-[10px]">‚ù§Ô∏è</span>
                                                                            </div>
                                                                            <span class="ml-1">125</span>
                                                                        </div>
                                                                        <div class="flex gap-3">
                                                                            <span>42 comments</span>
                                                                            <span>15 shares</span>
                                                                        </div>
                                                                    </div>

                                                                    <!-- Facebook Interactions -->
                                                                    <div class="flex justify-around pt-1 px-4 pb-2">
                                                                        <button
                                                                            class="flex-1 flex items-center justify-center gap-2 hover:bg-[#F2F3F5] py-2 rounded-md transition text-[#65676B] font-semibold text-[15px]">
                                                                            <i class="pi pi-thumbs-up text-lg"></i>
                                                                            <span>Like</span>
                                                                        </button>
                                                                        <button
                                                                            class="flex-1 flex items-center justify-center gap-2 hover:bg-[#F2F3F5] py-2 rounded-md transition text-[#65676B] font-semibold text-[15px]">
                                                                            <i class="pi pi-comment text-lg"></i>
                                                                            <span>Comment</span>
                                                                        </button>
                                                                        <button
                                                                            class="flex-1 flex items-center justify-center gap-2 hover:bg-[#F2F3F5] py-2 rounded-md transition text-[#65676B] font-semibold text-[15px]">
                                                                            <i class="pi pi-share-alt text-lg"></i>
                                                                            <span>Share</span>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </ng-container>

                                                            <!-- Instagram Post UI -->
                                                            <ng-container *ngIf="platform === 'Instagram'">
                                                                <div class="instagram-post bg-white rounded-2xl overflow-hidden border border-gray-200"
                                                                    style="max-width: 500px; margin: 0 auto; box-shadow: none;">
                                                                    <!-- Instagram Header -->
                                                                    <div
                                                                        class="flex items-center justify-between p-3 bg-white border-b border-gray-200">
                                                                        <div class="flex items-center gap-3">
                                                                            <div
                                                                                class="w-10 h-10 rounded-full bg-black flex items-center justify-center">
                                                                                <img src="assets/images/Logo_NIKE.svg"
                                                                                    alt="Nike"
                                                                                    class="w-5 h-5 object-contain"
                                                                                    style="filter: brightness(0) invert(1);" />
                                                                            </div>
                                                                            <div>
                                                                                <h4
                                                                                    class="font-semibold text-black text-sm">
                                                                                    nike</h4>
                                                                                <p class="text-xs text-gray-600">
                                                                                    Sponsored</p>
                                                                            </div>
                                                                        </div>
                                                                        <button class="text-black">
                                                                            <i class="pi pi-ellipsis-h text-xl"></i>
                                                                        </button>
                                                                    </div>

                                                                    <!-- Instagram Image -->
                                                                    <div class="w-full bg-white">
                                                                        <img src="assets/images/nike-insta.png"
                                                                            alt="Instagram Post"
                                                                            class="w-full h-auto object-cover" />
                                                                    </div>

                                                                    <!-- Instagram Interactions -->
                                                                    <div
                                                                        class="flex items-center gap-4 p-3 bg-white border-b border-gray-200">
                                                                        <button class="hover:opacity-50 transition">
                                                                            <svg width="28" height="28"
                                                                                viewBox="0 0 24 24" fill="red"
                                                                                stroke="red" stroke-width="2">
                                                                                <path
                                                                                    d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                                                                                </path>
                                                                            </svg>
                                                                        </button>
                                                                        <button class="hover:opacity-50 transition">
                                                                            <svg width="28" height="28"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                class="stroke-black" stroke-width="2">
                                                                                <path
                                                                                    d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z">
                                                                                </path>
                                                                            </svg>
                                                                        </button>
                                                                        <button class="hover:opacity-50 transition">
                                                                            <svg width="28" height="28"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                class="stroke-black" stroke-width="2">
                                                                                <line x1="22" y1="2" x2="11" y2="13">
                                                                                </line>
                                                                                <polygon
                                                                                    points="22 2 15 22 11 13 2 9 22 2">
                                                                                </polygon>
                                                                            </svg>
                                                                        </button>
                                                                        <button
                                                                            class="ml-auto hover:opacity-50 transition">
                                                                            <svg width="28" height="28"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                class="stroke-black" stroke-width="2">
                                                                                <path
                                                                                    d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z">
                                                                                </path>
                                                                            </svg>
                                                                        </button>
                                                                    </div>

                                                                    <!-- Instagram Likes & Caption -->
                                                                    <div class="px-3 py-2 bg-white">
                                                                        <p
                                                                            class="font-semibold text-black text-sm mb-2">
                                                                            1,234,567 likes</p>
                                                                        <p class="text-black text-sm leading-relaxed">
                                                                            <span class="font-semibold">nike</span>
                                                                            <span class="ml-1">Fast. Precise. Legendary.
                                                                                The Mercurial defines speed. The Tiempo
                                                                                defines touch. Together, they define
                                                                                football. üî¥ The future drops at the
                                                                                CryoShot Show. #NikeFootball #Mercurial
                                                                                #Tiempo #CryoShot</span>
                                                                        </p>
                                                                        <p class="text-gray-500 text-xs mt-2">
                                                                            View all 5,432 comments</p>
                                                                        <p class="text-gray-500 text-xs mt-1">
                                                                            2 hours ago</p>
                                                                    </div>
                                                                </div>
                                                            </ng-container>

                                                            <!-- Other platforms fallback -->
                                                            <ng-container
                                                                *ngIf="platform !== 'Facebook' && platform !== 'Instagram'">
                                                                <p class="post-caption text-black">
                                                                    Content for {{ platform }} platform
                                                                </p>
                                                            </ng-container>
                                                        </p-tabpanel>
                                                    </p-tabpanels>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex items-center gap-2 mt-4">
                                            <button
                                                (click)="appendToSocialFeedback('Use an informal tone for communication')"
                                                class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Use
                                                an informal
                                                tone
                                                for
                                                communication</button>
                                            <button (click)="appendToSocialFeedback('Use 200 words')"
                                                class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Make
                                                Another
                                                Version</button>
                                        </div>
                                        <!-- Regenerate Social Media Content Section -->
                                        <div class="w-full mt-6 mb-6">
                                            <label class="regeneration-label mb-2 block">
                                                <i class="pi pi-refresh mr-2"></i>Content Regenerate
                                            </label>
                                            <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                                style="box-shadow: 0 2px 16px 0 #00000040;">
                                                <!-- Input -->
                                                <input pInputText [(ngModel)]="socialContentFeedback"
                                                    [disabled]="isRegeneratingSocialContent"
                                                    class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                    placeholder="Type your feedback to regenerate content"
                                                    style="height: 48px;" />
                                                <!-- Submit Button -->
                                                <button (click)="regenerateSocialContent()"
                                                    [disabled]="isRegeneratingSocialContent"
                                                    class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                    <i *ngIf="!isRegeneratingSocialContent"
                                                        class="pi pi-send text-2xl text-white"></i>
                                                    <p-progressSpinner *ngIf="isRegeneratingSocialContent"
                                                        styleClass="w-6 h-6" strokeWidth="4" fill="transparent"
                                                        animationDuration=".8s"></p-progressSpinner>
                                                </button>
                                            </div>
                                        </div>

                                        <!-- Regenerate Image Section -->
                                        <div class="w-full mt-6 mb-6">
                                            <label class="regeneration-label mb-2 block">
                                                <i class="pi pi-image mr-2"></i>Image Regenerate
                                            </label>
                                            <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                                style="box-shadow: 0 2px 16px 0 #00000040;">
                                                <!-- Input -->
                                                <input pInputText [(ngModel)]="imageFeedback"
                                                    [disabled]="isRegeneratingImage"
                                                    class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                    placeholder="Type your feedback to regenerate image"
                                                    style="height: 48px;" />
                                                <!-- Submit Button -->
                                                <button (click)="regenerateImage()" [disabled]="isRegeneratingImage"
                                                    class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                    <i *ngIf="!isRegeneratingImage"
                                                        class="pi pi-send text-2xl text-white"></i>
                                                    <p-progressSpinner *ngIf="isRegeneratingImage" styleClass="w-6 h-6"
                                                        strokeWidth="4" fill="transparent"
                                                        animationDuration=".8s"></p-progressSpinner>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </p-tabs>
                            </div>
                        </div>
                    </div>
                </p-tabpanel>
                <p-tabpanel value="2" class="bg-[#09040e]">
                    <div class="flex gap-4 w-full items-start">
                        <div class="flex-1 min-w-0">
                            <div class="">

                                <p-accordion value="0" class="bg-[#121212]">
                                    <p-accordion-panel value="0">
                                        <p-accordion-header
                                            class="bg-[#121212] border-1 border-b-0 p-4 rounded-t-xl border-[#363636]">
                                            Task Details
                                        </p-accordion-header>


                                        <p-accordion-content
                                            class="p-4 bg-[#121212] border-1 border-[#363636] rounded-b-xl">
                                            <div class="flex justify-between items-start">
                                                <!-- Blog Tab Task Details -->
                                                <div class="grid grid-cols-2 gap-y-4 gap-x-6 text-base text-white">
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Client Name</span>
                                                        <span class="font-semibold">{{ formData?.brand || '-' }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Purpose</span>
                                                        <span class="font-semibold">{{ formData?.purpose3 || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Topic</span>
                                                        <span class="font-semibold">{{ formData?.topic || '-' }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Format</span>
                                                        <span class="font-semibold">{{ formData?.format || '-' }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Due Date</span>
                                                        <span class="font-semibold">{{ formData?.dueDate || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Tone</span>
                                                        <span class="font-semibold">{{ formData?.Type3 || '-' }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Keywords</span>
                                                        <span class="font-semibold">{{ formData?.keywords || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Word Limit</span>
                                                        <span class="font-semibold">{{ formData?.wordLimit3 || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Target Audience</span>
                                                        <span class="font-semibold">{{ formData?.readers3 || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Image Option</span>
                                                        <span class="font-semibold">{{ formData?.imageOpt || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Outline</span>
                                                        <span class="font-semibold">{{ formData?.outline || '-'
                                                            }}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Image Description</span>
                                                        <span class="font-semibold">{{ formData?.imgDesc || '-'
                                                            }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </p-accordion-content>
                                    </p-accordion-panel>
                                </p-accordion>
                            </div>
                        </div>
                        <div class="flex-[3] min-w-0">
                            <div class="flex flex-col">
                                <div class="rounded-t-xl bg-[#363636]">

                                    <div class="flex justify-between items-center p-4 flex-wrap">
                                        <div class="flex items-center gap-2">
                                            <button class="bg-[#8D4BFF] rounded-full py-4 px-5" disabled><i
                                                    class="pi pi-sparkles"></i></button>
                                            <h2 class="text-2xl font-bold">Generated Results</h2>
                                        </div>
                                        <!-- @if (selection.code == 'social') {
                                            
                                                                         <p-tabview [(activeIndex)]="activeTabIndex">
                                                                            <p-tabpanel header="Facebook"></p-tabpanel>
                                                                            <p-tabpanel header="Instagram"></p-tabpanel>
                                                                        </p-tabview> 
                                            
                                                                        } -->

                                        <div class="flex items-center gap-2">
                                            <img src="assets/images/ListMagnifyingGlass.svg" alt="">
                                            <p class="font-semibold text-lg">Check Plagiarism</p>
                                        </div>
                                    </div>

                                </div>
                                <div class="border-t-1 border-[#686868] bg-[#363636] p-5 rounded-b-xl">
                                    <div class="flex my-4 flex-col justify-center items-center">
                                        <div class="relative w-full">
                                            <div *ngIf="isRegeneratingBlogContent || isRegeneratingImage"
                                                class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-2xl z-10">
                                                <p-progressSpinner styleClass="w-16 h-16" strokeWidth="4"
                                                    fill="transparent" animationDuration=".8s"></p-progressSpinner>
                                            </div>



                                            <div class="flex justify-center items-center min-h-screen py-8">
                                                <div
                                                    class="bg-white rounded-2xl shadow-xl max-w-3xl w-full overflow-hidden">

                                                    <!-- Nike Logo at Top -->
                                                    <div
                                                        class="bg-white p-6 flex justify-center items-center border-b border-gray-200">
                                                        <img src="assets/images/Logo_NIKE.svg" alt=" Nike Logo"
                                                            style="height: 40px;">
                                                    </div>

                                                    <!-- Hero Section with Background Image and Text Overlay -->
                                                    <div class="relative w-full" style="height: 400px;">
                                                        <img src="assets/images/nike-insta.png" alt="Nike Shoe"
                                                            class="w-full h-full object-cover" />

                                                        <!-- Text Overlay on Image -->
                                                        <div class="absolute inset-0 flex flex-col justify-center px-12"
                                                            style="background: linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.5));">
                                                            <div class="border-l-4 border-red-600 pl-6">
                                                                <h1 class="text-white text-4xl font-bold mb-4"
                                                                    style="line-height: 1.2;">
                                                                    Where the pitch meets the pavement
                                                                </h1>
                                                                <p class="text-white text-lg" style="max-width: 500px;">
                                                                    A bold new silhouette that merges the precision of
                                                                    soccer boot engineering with the effortless edge of
                                                                    streetwear design.
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Article Content Below Image -->
                                                    <div class="px-10 py-8 bg-white">
                                                        <div class="text-black space-y-4"
                                                            style="font-family: Arial, sans-serif; font-size: 15px; line-height: 1.8;">
                                                            <p>
                                                                Nike is once again redefining the boundaries of
                                                                performance and style with the launch of the Nike
                                                                CryoShot.
                                                            </p>
                                                            <p>
                                                                Born from the spirit of the iconic Mercurial line, the
                                                                CryoShot carries the DNA of champions ‚Äî crafted for
                                                                those who move fast, think sharper, and stand out
                                                                wherever they go.
                                                            </p>
                                                            <p>
                                                                Engineered with cryogenic-inspired cooling technology
                                                                and adaptive fit innovation, this shoe isn't just made
                                                                to play ‚Äî it's made to perform, no matter the surface.
                                                            </p>
                                                            <p>
                                                                From turf to tarmac, the CryoShot captures the best of
                                                                both worlds: explosive traction from the pitch and
                                                                sculpted aesthetics from the street. The result is a
                                                                sneaker that doesn't just keep up ‚Äî it leads. Designed
                                                                for the new generation of creators, athletes, and style
                                                                leaders, the CryoShot symbolizes confidence in motion
                                                                and cool under pressure.
                                                            </p>
                                                            <p>
                                                                To celebrate this breakthrough, Nike introduces the
                                                                CryoShot Show ‚Äî an immersive experience that blurs the
                                                                line between sport and style. Step into the future of
                                                                footwear innovation, explore interactive zones that
                                                                showcase CryoShot's cutting-edge design, and witness how
                                                                performance tech becomes wearable culture.
                                                            </p>
                                                            <p>
                                                                With the CryoShot, Nike delivers not just a shoe, but a
                                                                statement ‚Äî one that speaks to agility, precision, and
                                                                self-expression. It's where the Swoosh meets the
                                                                streets, and the temperature drops for everyone else.
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex items-center gap-2 mt-4">
                                            <button
                                                (click)="appendToBlogFeedback('Use an informal tone for communication')"
                                                class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Use
                                                an informal tone
                                                for
                                                communication</button>
                                            <button (click)="appendToBlogFeedback('Use 200 words')"
                                                class="border-1 border-white rounded-full p-3 hover:bg-[#8D4BFF] transition cursor-pointer">Make
                                                Another
                                                Version</button>
                                        </div>
                                    </div>
                                    <!-- Regenerate Blog Content Section -->
                                    <div class="w-full mt-6 mb-6">
                                        <label class="regeneration-label mb-2 block">
                                            <i class="pi pi-refresh mr-2"></i>Content Regenerate
                                        </label>
                                        <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                            style="box-shadow: 0 2px 16px 0 #00000040;">
                                            <!-- Input -->
                                            <input pInputText [(ngModel)]="blogContentFeedback"
                                                [disabled]="isRegeneratingBlogContent"
                                                class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                placeholder="Type your feedback to regenerate content"
                                                style="height: 48px;" />
                                            <!-- Submit Button -->
                                            <button (click)="regenerateBlogContent()"
                                                [disabled]="isRegeneratingBlogContent"
                                                class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                <i *ngIf="!isRegeneratingBlogContent"
                                                    class="pi pi-send text-2xl text-white"></i>
                                                <p-progressSpinner *ngIf="isRegeneratingBlogContent"
                                                    styleClass="w-6 h-6" strokeWidth="4" fill="transparent"
                                                    animationDuration=".8s"></p-progressSpinner>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Regenerate Image Section -->
                                    <div class="w-full mt-6 mb-6">
                                        <label class="regeneration-label mb-2 block">
                                            <i class="pi pi-image mr-2"></i>Image Regenerate
                                        </label>
                                        <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                            style="box-shadow: 0 2px 16px 0 #00000040;">
                                            <!-- Input -->
                                            <input pInputText [(ngModel)]="imageFeedback"
                                                [disabled]="isRegeneratingImage"
                                                class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                                placeholder="Type your feedback to regenerate image"
                                                style="height: 48px;" />
                                            <!-- Submit Button -->
                                            <button (click)="regenerateImage()" [disabled]="isRegeneratingImage"
                                                class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                                <i *ngIf="!isRegeneratingImage"
                                                    class="pi pi-send text-2xl text-white"></i>
                                                <p-progressSpinner *ngIf="isRegeneratingImage" styleClass="w-6 h-6"
                                                    strokeWidth="4" fill="transparent"
                                                    animationDuration=".8s"></p-progressSpinner>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-tabpanel>

                <!-- AI Video Tab Panel -->
                <p-tabpanel value="3" class="bg-[#09040e]">
                    <div class="flex mt-5 gap-4 w-full items-start">
                        <div class="flex-1 min-w-0">
                            <div class="">
                                <p-accordion value="0" class="bg-[#121212]">
                                    <p-accordion-panel value="0">
                                        <p-accordion-header
                                            class="bg-[#121212] border-1 p-4 border-b-0 rounded-t-xl border-[#363636]">
                                            Video Details
                                        </p-accordion-header>
                                        <p-accordion-content
                                            class="p-4 bg-[#121212] border-1 border-[#363636] rounded-b-xl">
                                            <div class="flex justify-between items-start">
                                                <div class="grid grid-cols-2 gap-y-4 gap-x-6 text-base text-white">
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Client Name</span>
                                                        <span class="font-semibold">{{this.formData?.brand ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col">
                                                        <span class="text-[#9b9b9b] text-sm">Topic</span>
                                                        <span class="font-semibold">{{this.formData?.topic ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Video Prompt</span>
                                                        <span class="font-semibold">{{this.formData?.videoPrompt ||
                                                            '-'}}</span>
                                                    </div>
                                                    <div class="flex flex-col col-span-2">
                                                        <span class="text-[#9b9b9b] text-sm">Additional Details</span>
                                                        <span class="font-semibold">{{this.formData?.imgDesc ||
                                                            '-'}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </p-accordion-content>
                                    </p-accordion-panel>
                                </p-accordion>
                            </div>
                        </div>

                        <!-- Video Gallery Section -->
                        <div class="flex-[3] min-w-0 rounded-xl bg-[#1A1A1A] p-8">
                            <div class="w-full mb-8">
                                <h2 class="text-2xl text-center mb-4">AI Generated Video</h2>
                            </div>

                            <div class="relative">
                                <div *ngIf="isRegeneratingVideo"
                                    class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-2xl z-10">
                                    <p-progressSpinner styleClass="w-16 h-16" strokeWidth="4" fill="transparent"
                                        animationDuration=".8s"></p-progressSpinner>
                                </div>

                                <!-- PrimeNG Galleria for Videos -->
                                <p-galleria class="video-galleria" [value]="videoGalleryItems" [numVisible]="3"
                                    [circular]="false" [showItemNavigators]="false" [showThumbnails]="true"
                                    [showThumbnailNavigators]="true" [showIndicators]="false"
                                    [activeIndex]="currentVideoIndex"
                                    (activeIndexChange)="onGalleriaIndexChange($event)"
                                    [containerStyle]="{'max-width': '100%'}"
                                    [responsiveOptions]="galleriaResponsiveOptions">

                                    <!-- Main Video Template -->
                                    <ng-template pTemplate="item" let-item>
                                        <div class="w-full flex justify-center items-center" style="min-height: 500px;">
                                            <video [src]="item.videoUrl" controls class="w-full rounded-lg"
                                                style="aspect-ratio: 1/1; object-fit: cover; max-height: 600px;">
                                                Your browser does not support the video tag.
                                            </video>
                                        </div>
                                    </ng-template>

                                    <!-- Thumbnail Template -->
                                    <ng-template pTemplate="thumbnail" let-item>
                                        <div class="video-thumbnail-galleria cursor-pointer">
                                            <video [src]="item.videoUrl" muted preload="auto"
                                                class="w-full h-full object-cover"
                                                (loadeddata)="onThumbnailLoaded($event)">
                                            </video>
                                        </div>
                                    </ng-template>
                                </p-galleria>
                            </div>

                            <!-- Video Regeneration Section -->
                            <div class="w-full mt-8 space-y-6">
                                <div class="regeneration-section">
                                    <label class="block text-white text-lg font-semibold mb-3">
                                        <i class="pi pi-video mr-2"></i>Video Regeneration
                                    </label>
                                    <div class="bg-[#1A1A1A] rounded-2xl px-4 py-3 flex items-center gap-2 shadow-inner"
                                        style="box-shadow: 0 2px 16px 0 #00000040;">
                                        <!-- Input -->
                                        <input pInputText [(ngModel)]="videoFeedback" [disabled]="isRegeneratingVideo"
                                            class="flex-1 bg-transparent border-none text-white text-lg placeholder-gray-400 focus:ring-0 focus:border-0 outline-none"
                                            placeholder="Type to regenerate video" style="height: 48px;" />
                                        <!-- Submit Button -->
                                        <button (click)="regenerateVideo()" [disabled]="isRegeneratingVideo"
                                            class="w-12 h-12 flex items-center justify-center rounded-lg bg-[#8D4BFF] hover:bg-[#B66DFF] transition disabled:opacity-50 disabled:cursor-not-allowed">
                                            <i *ngIf="!isRegeneratingVideo" class="pi pi-send text-2xl text-white"></i>
                                            <p-progressSpinner *ngIf="isRegeneratingVideo" styleClass="w-6 h-6"
                                                strokeWidth="4" fill="transparent"
                                                animationDuration=".8s"></p-progressSpinner>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-tabpanel>
            </p-tabpanels>


        </div>

        <!-- Send for Approval Button -->
        <div class="flex justify-end mt-6">
            <p-button class="bg-[#8D4BFF] p-4 rounded-full" label="Send For Approval"
                (onClick)="navigateToForm()"></p-button>
        </div>

    </p-tabs>
</div>